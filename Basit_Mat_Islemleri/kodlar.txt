RESÄ°M Ä°Ã‡Ä°N

import cv2
import pytesseract
import re

# Tesseract yolu
pytesseract.pytesseract.tesseract_cmd = r"C:\Users\cihan bilgisayar\Documents\tesseract\tesseract.exe"

# Ä°ÅŸlenecek gÃ¶rseller
image_paths = ["toplama_ornek.png", "toplama_ornek2.png", "cikarma_ornek.png"]

for image_path in image_paths:
    print(f"\nğŸ” Ä°ÅŸlenen gÃ¶rsel: {image_path}")
    image = cv2.imread(image_path)

    if image is None:
        print("âŒ GÃ¶rsel bulunamadÄ±. Dosya yolu hatalÄ± olabilir.")
        continue

    # Griye Ã§evir ve threshold uygula
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    _, thresh = cv2.threshold(gray, 150, 255, cv2.THRESH_BINARY)

    # OCR iÅŸlemi
    text = pytesseract.image_to_string(thresh, config='--psm 6')
    print("ğŸ“„ OCR sonucu:", text.strip())

    # Toplama ve Ã§Ä±karma iÅŸlemlerini ara
    expression_match = re.findall(r'(\d+(?:\s*[\+\-]\s*\d+)+)', text)

    if expression_match:
        for expr in expression_match:
            try:
                # Sadece geÃ§erli karakterleri bÄ±rak (rakamlar, +, -)
                cleaned_expr = re.sub(r'[^\d\+\-]', '', expr)
                result = eval(cleaned_expr)
                print(f"ğŸ§® {cleaned_expr} = {result}")
            except Exception as e:
                print(f"âŒ Hesaplama hatasÄ±: {e}")
    else:
        print("âš ï¸ Toplama veya Ã§Ä±karma iÅŸlemi bulunamadÄ±.")


CANLI KAMERA

import cv2
import pytesseract
import re

# Tesseract yolu (Windows iÃ§in, Linux/Mac iÃ§in yolu ayarlayÄ±n)
pytesseract.pytesseract.tesseract_cmd = r"C:\Users\cihan bilgisayar\Documents\tesseract\tesseract.exe"

# CanlÄ± kamerayÄ± baÅŸlat
cap = cv2.VideoCapture(0)  # 0, bilgisayarÄ±nÄ±zdaki varsayÄ±lan kamerayÄ± ifade eder

if not cap.isOpened():
    print("Kamera aÃ§Ä±lamadÄ±!")
    exit()

while True:
    # Kamera gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ oku
    ret, frame = cap.read()

    if not ret:
        print("Kamera gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±namadÄ±!")
        break

    # GÃ¶rÃ¼ntÃ¼yÃ¼ griye Ã§evir
    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)

    # OCR iÅŸlemi
    text = pytesseract.image_to_string(gray, config='--psm 6')
    print("OCR sonucu:", text.strip())

    # Toplama ve Ã§Ä±karma iÅŸlemleri iÃ§in dÃ¼zenli ifadeler
    # SayÄ±larÄ± ve iÅŸlemleri bul
    matches = re.findall(r'\d+', text)
    operators = re.findall(r'[+-]', text)

    # Toplama iÅŸlemi
    if len(matches) >= 2 and len(operators) >= 1:
        numbers = list(map(int, matches))
        result = 0
        if '+' in operators:
            result = sum(numbers)  # EÄŸer '+' varsa, sayÄ±larÄ± topla
        elif '-' in operators:
            result = numbers[0] - numbers[1]  # Ã‡Ä±karma iÅŸlemi
        print(f"Ä°ÅŸlem Sonucu: {result}")
    
    # GÃ¶rÃ¼ntÃ¼yÃ¼ ekranda gÃ¶ster
    cv2.imshow('CanlÄ± Kamera', frame)

    # 'q' tuÅŸuna basarak Ã§Ä±kÄ±ÅŸ yapabilirsiniz
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

# KamerayÄ± ve pencereleri serbest bÄ±rak
cap.release()
cv2.destroyAllWindows()


